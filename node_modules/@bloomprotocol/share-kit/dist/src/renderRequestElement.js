"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var renderRequestButton_1 = require("./elements/renderRequestButton");
var renderRequestQRCode_1 = require("./elements/renderRequestQRCode");
var bowser = require('bowser');
var appendQuery = require('append-query');
var renderRequestElement = function (config) {
    if (config.shouldRenderButton === undefined) {
        config.shouldRenderButton = function (parsedResult) {
            var isMobile = parsedResult.platform.type === 'mobile' || parsedResult.platform.type === 'tablet';
            var isIOS = parsedResult.os.name === 'iOS';
            return isMobile && isIOS;
        };
    }
    var shouldRenderButton = config.shouldRenderButton(bowser.parse(window.navigator.userAgent));
    // Append a query parameter to inform the server how the data has been shared
    config.requestData.url = appendQuery(config.requestData.url, "share-kit-from=" + (shouldRenderButton ? 'button' : 'qr'));
    if (shouldRenderButton) {
        return renderRequestButton_1.renderRequestButton(config);
    }
    else {
        return renderRequestQRCode_1.renderRequestQRCode(config);
    }
};
exports.renderRequestElement = renderRequestElement;
//# sourceMappingURL=renderRequestElement.js.map