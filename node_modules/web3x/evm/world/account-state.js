"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const bigint_buffer_1 = require("bigint-buffer");
const bn_js_1 = tslib_1.__importDefault(require("bn.js"));
const rlp = tslib_1.__importStar(require("rlp"));
class AccountState {
    constructor(nonce = BigInt(0), balance = BigInt(0), storageRoot = Buffer.of(), codeHash = Buffer.of()) {
        this.nonce = nonce;
        this.balance = balance;
        this.storageRoot = storageRoot;
        this.codeHash = codeHash;
    }
    static fromRlp(data) {
        const account = rlp.decode(data);
        return new AccountState(account[0].length ? bigint_buffer_1.toBigIntBE(account[0]) : BigInt(0), bigint_buffer_1.toBigIntBE(account[1]), account[2], account[3]);
    }
    toRlp() {
        return rlp.encode([
            new bn_js_1.default(this.nonce.toString()),
            new bn_js_1.default(this.balance.toString()),
            this.storageRoot,
            this.codeHash,
        ]);
    }
}
exports.AccountState = AccountState;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWNjb3VudC1zdGF0ZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9ldm0vd29ybGQvYWNjb3VudC1zdGF0ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSxpREFBMkM7QUFDM0MsMERBQXVCO0FBQ3ZCLGlEQUEyQjtBQUUzQixNQUFhLFlBQVk7SUFDdkIsWUFDa0IsUUFBZ0IsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUN6QixVQUFrQixNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQzNCLGNBQXNCLE1BQU0sQ0FBQyxFQUFFLEVBQUUsRUFDakMsV0FBbUIsTUFBTSxDQUFDLEVBQUUsRUFBRTtRQUg5QixVQUFLLEdBQUwsS0FBSyxDQUFvQjtRQUN6QixZQUFPLEdBQVAsT0FBTyxDQUFvQjtRQUMzQixnQkFBVyxHQUFYLFdBQVcsQ0FBc0I7UUFDakMsYUFBUSxHQUFSLFFBQVEsQ0FBc0I7SUFDN0MsQ0FBQztJQUVHLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBWTtRQUNoQyxNQUFNLE9BQU8sR0FBYSxHQUFHLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBUSxDQUFDO1FBQ2xELE9BQU8sSUFBSSxZQUFZLENBQ3JCLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLDBCQUFVLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFDdEQsMEJBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFDdEIsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUNWLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FDWCxDQUFDO0lBQ0osQ0FBQztJQUVNLEtBQUs7UUFDVixPQUFPLEdBQUcsQ0FBQyxNQUFNLENBQUM7WUFDaEIsSUFBSSxlQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUM3QixJQUFJLGVBQUUsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxDQUFDO1lBQy9CLElBQUksQ0FBQyxXQUFXO1lBQ2hCLElBQUksQ0FBQyxRQUFRO1NBQ2QsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztDQUNGO0FBMUJELG9DQTBCQyJ9