"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const bigint_buffer_1 = require("bigint-buffer");
class SloadOp {
    constructor() {
        this.code = 0x54;
        this.mnemonic = 'SLOAD';
        this.description = 'Load word from storage';
        this.gas = 200;
        this.bytes = 1;
    }
    toString(params) {
        return `${this.mnemonic}`;
    }
    async handle(context) {
        const address = context.stack.pop();
        const value = await context.storage.get(bigint_buffer_1.toBufferBE(address, 32));
        context.stack.push(value ? bigint_buffer_1.toBigIntBE(value) : BigInt(0));
        context.ip += this.bytes;
    }
}
exports.Sload = new SloadOp();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2xvYWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvZXZtL29wY29kZXMvc2xvYWQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxpREFBdUQ7QUFJdkQsTUFBTSxPQUFPO0lBQWI7UUFDa0IsU0FBSSxHQUFHLElBQUksQ0FBQztRQUNaLGFBQVEsR0FBRyxPQUFPLENBQUM7UUFDbkIsZ0JBQVcsR0FBRyx3QkFBd0IsQ0FBQztRQUN2QyxRQUFHLEdBQUcsR0FBRyxDQUFDO1FBQ1YsVUFBSyxHQUFHLENBQUMsQ0FBQztJQVk1QixDQUFDO0lBVlEsUUFBUSxDQUFDLE1BQWM7UUFDNUIsT0FBTyxHQUFHLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztJQUM1QixDQUFDO0lBRU0sS0FBSyxDQUFDLE1BQU0sQ0FBQyxPQUFtQjtRQUNyQyxNQUFNLE9BQU8sR0FBRyxPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsRUFBRyxDQUFDO1FBQ3JDLE1BQU0sS0FBSyxHQUFHLE1BQU0sT0FBTyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsMEJBQVUsQ0FBQyxPQUFPLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNqRSxPQUFPLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLDBCQUFVLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzFELE9BQU8sQ0FBQyxFQUFFLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQztJQUMzQixDQUFDO0NBQ0Y7QUFFWSxRQUFBLEtBQUssR0FBRyxJQUFJLE9BQU8sRUFBRSxDQUFDIn0=