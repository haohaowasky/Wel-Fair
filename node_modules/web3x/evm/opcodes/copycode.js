"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class CopyCodeOp {
    constructor() {
        this.code = 0x39;
        this.mnemonic = 'COPYCODE';
        this.description = 'Copy code from current environment to memory';
        this.gas = 3;
        this.bytes = 1;
    }
    toString(params) {
        return `${this.mnemonic}`;
    }
    handle(context) {
        const destIndex = context.stack.pop();
        const runtimeOffset = Number(context.stack.pop());
        const runtimeLength = Number(context.stack.pop());
        const code = Buffer.alloc(runtimeLength);
        context.code.slice(runtimeOffset, runtimeOffset + runtimeLength).copy(code);
        context.memory.storeN(destIndex, code);
        context.ip += this.bytes;
    }
}
exports.CopyCode = new CopyCodeOp();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29weWNvZGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvZXZtL29wY29kZXMvY29weWNvZGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFHQSxNQUFNLFVBQVU7SUFBaEI7UUFDa0IsU0FBSSxHQUFHLElBQUksQ0FBQztRQUNaLGFBQVEsR0FBRyxVQUFVLENBQUM7UUFDdEIsZ0JBQVcsR0FBRyw4Q0FBOEMsQ0FBQztRQUM3RCxRQUFHLEdBQUcsQ0FBQyxDQUFDO1FBQ1IsVUFBSyxHQUFHLENBQUMsQ0FBQztJQWU1QixDQUFDO0lBYlEsUUFBUSxDQUFDLE1BQWM7UUFDNUIsT0FBTyxHQUFHLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztJQUM1QixDQUFDO0lBRU0sTUFBTSxDQUFDLE9BQW1CO1FBQy9CLE1BQU0sU0FBUyxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFHLENBQUM7UUFDdkMsTUFBTSxhQUFhLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFHLENBQUMsQ0FBQztRQUNuRCxNQUFNLGFBQWEsR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUcsQ0FBQyxDQUFDO1FBQ25ELE1BQU0sSUFBSSxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLENBQUM7UUFDekMsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsYUFBYSxFQUFFLGFBQWEsR0FBRyxhQUFhLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDNUUsT0FBTyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3ZDLE9BQU8sQ0FBQyxFQUFFLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQztJQUMzQixDQUFDO0NBQ0Y7QUFFWSxRQUFBLFFBQVEsR0FBRyxJQUFJLFVBQVUsRUFBRSxDQUFDIn0=