"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class ExtCodeSizeOp {
    constructor() {
        this.code = 0x3b;
        this.mnemonic = 'EXTCODESIZE';
        this.description = 'Get size of an accounts code';
        this.gas = 700;
        this.bytes = 1;
    }
    toString(params) {
        return `${this.mnemonic}`;
    }
    async handle(context) {
        const address = context.stack.pop() % BigInt(2) ** BigInt(160);
        const account = await context.worldState.loadAccount(address);
        context.stack.push(BigInt(account.code.length));
        context.ip += this.bytes;
    }
}
exports.ExtCodeSize = new ExtCodeSizeOp();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXh0Y29kZXNpemUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvZXZtL29wY29kZXMvZXh0Y29kZXNpemUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFHQSxNQUFNLGFBQWE7SUFBbkI7UUFDa0IsU0FBSSxHQUFHLElBQUksQ0FBQztRQUNaLGFBQVEsR0FBRyxhQUFhLENBQUM7UUFDekIsZ0JBQVcsR0FBRyw4QkFBOEIsQ0FBQztRQUM3QyxRQUFHLEdBQUcsR0FBRyxDQUFDO1FBQ1YsVUFBSyxHQUFHLENBQUMsQ0FBQztJQVk1QixDQUFDO0lBVlEsUUFBUSxDQUFDLE1BQWM7UUFDNUIsT0FBTyxHQUFHLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztJQUM1QixDQUFDO0lBRU0sS0FBSyxDQUFDLE1BQU0sQ0FBQyxPQUFtQjtRQUNyQyxNQUFNLE9BQU8sR0FBRyxPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsRUFBRSxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDL0QsTUFBTSxPQUFPLEdBQUcsTUFBTSxPQUFPLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUM5RCxPQUFPLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBUSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1FBQ2pELE9BQU8sQ0FBQyxFQUFFLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQztJQUMzQixDQUFDO0NBQ0Y7QUFFWSxRQUFBLFdBQVcsR0FBRyxJQUFJLGFBQWEsRUFBRSxDQUFDIn0=