"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class CallDataCopyOp {
    constructor() {
        this.code = 0x37;
        this.mnemonic = 'CALLDATACOPY';
        this.description = 'Copy input data in current environment to memory';
        this.gas = 3;
        this.bytes = 1;
    }
    toString(params) {
        return `${this.mnemonic}`;
    }
    handle(context) {
        const target = context.stack.pop();
        const source = Number(context.stack.pop());
        const length = Number(context.stack.pop());
        const buf = Buffer.alloc(length);
        context.calldata.copy(buf, 0, source, source + length);
        context.memory.storeN(target, buf);
        context.ip += this.bytes;
    }
}
exports.CallDataCopy = new CallDataCopyOp();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FsbGRhdGFjb3B5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2V2bS9vcGNvZGVzL2NhbGxkYXRhY29weS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUdBLE1BQU0sY0FBYztJQUFwQjtRQUNrQixTQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ1osYUFBUSxHQUFHLGNBQWMsQ0FBQztRQUMxQixnQkFBVyxHQUFHLGtEQUFrRCxDQUFDO1FBQ2pFLFFBQUcsR0FBRyxDQUFDLENBQUM7UUFDUixVQUFLLEdBQUcsQ0FBQyxDQUFDO0lBZTVCLENBQUM7SUFiUSxRQUFRLENBQUMsTUFBYztRQUM1QixPQUFPLEdBQUcsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO0lBQzVCLENBQUM7SUFFTSxNQUFNLENBQUMsT0FBbUI7UUFDL0IsTUFBTSxNQUFNLEdBQUcsT0FBTyxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUNuQyxNQUFNLE1BQU0sR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDO1FBQzNDLE1BQU0sTUFBTSxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUM7UUFDM0MsTUFBTSxHQUFHLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNqQyxPQUFPLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxNQUFNLEdBQUcsTUFBTSxDQUFDLENBQUM7UUFDdkQsT0FBTyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQ25DLE9BQU8sQ0FBQyxFQUFFLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQztJQUMzQixDQUFDO0NBQ0Y7QUFFWSxRQUFBLFlBQVksR0FBRyxJQUFJLGNBQWMsRUFBRSxDQUFDIn0=